<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Every Function Testing</title>
</head>
<body>
  <script src="../simpletest.js"></script>
  <script>
    // Array.prototype.every
    // Link to docs https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/every
    /*
    General description:
    The every() method tests whether all elements in the array pass the test implemented by the provided function. It returns a Boolean value. 
    ----------
    Syntax:
    arr.every(callback(element[, index[, array]])[, thisArg])
    */
    function every(array, callback, optionalThis){
      let newCallback = callback;
      if(optionalThis){
        newCallback = newCallback.bind(optionalThis);
      }
      for(let i = 0; i < array.length; i++){
        newCallback(array[i], i, array);
      }
    }

    tests({
      'it should run the callback, if needed, array.length times': function(){
        let counter = 0;
        every([1,2,3,4], function(){
          counter++;
        })
        eq(counter, 4);
      },
      'it should have access to the i\'th element each time callback is run':function(){
        every([1], function(element){
          eq(element, 1);
        })
      },
      'it should have access to the index of each element':function(){
        every([1], function(element, index){
          eq(index, 0);
        })
      },
      'it should have access to the original passed array':function(){
        let originalArray = ['a','b','c'];
        every(originalArray, function(element, index, array){
          eq(array, originalArray);
        })
      },
      'it should accept an optional this':function(){
        every([1], function(){
          eq(this.message, "greetings from optional this");
        }, {message: "greetings from optional this"})
      },
      'it should return a boolean value':function(){
        fail();
      },
      'it should check that all the elements in the array suffice the condition':function(){
        fail();
      },
      'it should only worked with assigned values':function(){
        fail();
      },
      'it shouldn\'t mutate the array':function(){
        fail();
      },
      'it should return true if provided with an empty array':function(){
        fail();
      }
    })
  </script>
</body>
</html>