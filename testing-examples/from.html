<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Reverse Function Testing</title>
</head>
<body>
  <script src="../simpletest.js"></script>
  <script src="../rewriteLibrary.js"></script>
  <script>
    // Array.prototype.from
    // Link to docs https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from
    /*
    ****** this function is intended as a helper (for now) ******

    - it should transform a numbered object with a length property {0: 'a', 1: 'b', 2: 'c', length: 3} into an array ['a','b','c']; 
    - it should fill unassigned values in the object with undefined;
    - it should transform a string into an array;
    - it should transform a NodeList into an array;
    - it should accept a second argument that would map the transformed array;
    - it should accept an additonal 'this' object if callback is provided
    */
    
    function arrayFrom(iterable, callback){
        let transformedArray = [];
        for (let i = 0; i < iterable.length; i++) {
            transformedArray.push(iterable[i]);
        }
        // if second parameter is provided
        if (callback){
            return map(transformedArray, callback)
        }
        return transformedArray;
    }

    tests({
        'it should transform a numbered object into an array': function(){
            let objectToBeArray = {0: 'a', 1: 'b', length: 2};
            let transformedArray = arrayFrom(objectToBeArray);
            eq(transformedArray.length, 2);
            eq(Array.isArray(transformedArray), true);
        },
        'it should fill unassigned values in the object with undefined': function(){
            let objectToBeArray = {0: 'a', 1: 'b', length: 5};
            let transformedArray = arrayFrom(objectToBeArray);
            eq(transformedArray.length, 5);
            eq(transformedArray[4], undefined);
        },
        'it should transform a string into an array': function(){
            let stringToBeArray = "this is string will be an array";
            let transformedArray = arrayFrom(stringToBeArray);
            eq(Array.isArray(transformedArray), true);
        },
        'it should accept a second argument that would map the transformed array': function(){
            let objectToBeArray = {0: 25, 1: 50, length: 2};
            let mappedArray = arrayFrom(objectToBeArray, el => el * 2);
            eq(mappedArray[0], 50);
            eq(mappedArray[1], 100);
        },
        'it should accept an additonal "this" object if callback is provided': function(){

        }
    })
  </script>
</body>
</html>





















